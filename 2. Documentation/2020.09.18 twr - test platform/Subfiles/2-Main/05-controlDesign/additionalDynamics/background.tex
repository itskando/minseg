% !TEX TS-program = arara
%  arara: lmkclean
%  arara: pdflatex: {   draft: yes, options: '-file-line-error -halt-on-error' }
%  arara: biber
%  arara: pdflatex: {   draft: yes, options: '-file-line-error -halt-on-error' }
%  arara: pdflatex: { synctex: yes, options: '-file-line-error -halt-on-error' }
%  arara: lmkclean
\documentclass[crop=false,float=true,class=scrreprt]{standalone}

\providecommand{\main}{../../../..}
\input{\main/Subfiles/0-Preamble/0-Preamble.tex}  % Preamble [document configuration]

\begin{document}

\subsection{Background}
\label{SEC:controllerDesign:additionalDynamics:background}

A state feedback regulating system is depicted in Figure~%
\ref{FIG:controllerDesign:additionalDynamics:background:1p0:stateFeedbackRegulator}.
It contains the hardware plant as well as the inverted system feedback gains.

The \tif{additional dynamics} are added in Figure~%
\ref{FIG:controllerDesign:additionalDynamics:background:2p0:additionalDynamics:designView}.
In the figure, 
the output vector of the plant is demuxed into its individual output components 
such that certain outputs may additionally be used as 
inputs to the additional dynamics state-space representation.
This is represented using flags;
connections exist between flags with equivalent labels.
The outputs of the plant as well as 
the outputs of the additional dynamics 
are then muxed to form an output vector
representing the output of a larger system.

Thus, the larger system 
{\fns[\tif{which includes the plant and the additional dynamics}]}
may temporarily be considered as new plant,
as depicted in Figure~%
\ref{FIG:controllerDesign:additionalDynamics:background:2p1:additionalDynamics:designView}.
It may therefore be expressed as a single state-space representation containing both systems.
Thus, state-feedback regulation techniques may be used to control the system;
however, the system response will now include any benefits which the additional dynamics provide.
A representation of the larger system is depicted in Figure~%
\ref{FIG:controllerDesign:additionalDynamics:background:2p2:additionalDynamics:stateFeedbackRegulatorView}.
Note the increase in the output vector.

From this point,
the system depiction may be rearranged such that
the input to the controller is on the left, 
while the plant outputs remain on the right.
A sequential description of the process,
and the figure number which corresponds to each step 
is provided below:

\vspace*{+0em}

\begin{enumerate}[leftmargin=*]

\item The feedback gains are separated into 
      those with respect to the original plant outputs $x$ and
      those with respect to the additional dynamics $x.a$.
      \hspace*{\fill}{[Figure~\ref{FIG:controllerDesign:additionalDynamics:background:3p0:additionalDynamics:splitGains}]}

\item The gains are shifted such that they are forward facing.
      \hspace*{\fill}{[Figure~\ref{FIG:controllerDesign:additionalDynamics:background:4p0:additionalDynamics:linearView:plant}]}
      \begin{itemize}
      
      \item In this configuration, 
            the original plant may be separated from the components used to control it, 
            including the additional dynamics.
            \hspace*{\fill}{[Figure~\ref{FIG:controllerDesign:additionalDynamics:background:4p1:additionalDynamics:linearView:plant}]}
      
      \end{itemize}

\item The plant is shifted to the right side of the system depiction.
      \hspace*{\fill}{[Figure~\ref{FIG:controllerDesign:additionalDynamics:background:5p0:additionalDynamics:linearView:controller}]}


\end{enumerate}




\clearpage




\begin{landscape}
%\vspace*{\fill}
\begin{figure}[H]%
\centering%
\begin{minipage}[c][0.995\textheight][c]{0.995\linewidth}%
\centering%
\includegraphics[trim = 0em 0em 0em 0em, clip, width=0.4\textwidth]{snap-1-0-State-Feedback-Regulator.pdf}%
\caption[{[Additional Dynamics]: State Feedback Regulator}]%
        {{[Additional Dynamics]: State Feedback Regulator%
          \label{FIG:controllerDesign:additionalDynamics:background:1p0:stateFeedbackRegulator}%
        }}%
\end{minipage}%
\end{figure}
%\vspace*{\fill}
\end{landscape}




\clearpage




\begin{landscape}
%\vspace*{\fill}
\begin{figure}[H]%
\centering%
\begin{minipage}[c][0.995\textheight][c]{0.995\linewidth}%
\centering%
\includegraphics[trim = 0em 0em 0em 0em, clip, width=0.975\textwidth]{snap-2-0-Additional-Dynamics-(Design-View).pdf}%
\caption[{[Additional Dynamics]: 1.0 Additional Dynamics (Design View)}]%
        {{[Additional Dynamics]: 1.0 Additional Dynamics (Design View)%
          \label{FIG:controllerDesign:additionalDynamics:background:2p0:additionalDynamics:designView}%
        }}%
\end{minipage}%
\end{figure}
%\vspace*{\fill}
\end{landscape}




\clearpage




\begin{landscape}
%\vspace*{\fill}
\begin{figure}[H]%
\centering%
\begin{minipage}[c][0.995\textheight][c]{0.995\linewidth}%
\centering%
\includegraphics[trim = 0em 0em 0em 0em, clip, width=0.975\textwidth]{snap-2-1-Additional-Dynamics-(Design-View).pdf}%
\caption[{[Additional Dynamics]: 1.1 Additional Dynamics (Design View)}]%
        {{[Additional Dynamics]: 1.1 Additional Dynamics (Design View)%
          \label{FIG:controllerDesign:additionalDynamics:background:2p1:additionalDynamics:designView}%
        }}%
\end{minipage}%
\end{figure}
%\vspace*{\fill}
\end{landscape}




\clearpage




\begin{landscape}
%\vspace*{\fill}
\begin{figure}[H]%
\centering%
\begin{minipage}[c][0.995\textheight][c]{0.995\linewidth}%
\centering%
\includegraphics[trim = 0em 0em 0em 0em, clip, width=0.4\textwidth]{snap-2-2-Additional-Dynamics-(State-Feedback-Regulator-View).pdf}%
\caption[{[Additional Dynamics]: 1.2 Additional Dynamics (State Feedback Regulator View)}]%
        {{[Additional Dynamics]: 1.2 Additional Dynamics (State Feedback Regulator View)%
          \label{FIG:controllerDesign:additionalDynamics:background:2p2:additionalDynamics:stateFeedbackRegulatorView}%
        }}%
\end{minipage}%
\end{figure}
%\vspace*{\fill}
\end{landscape}




\clearpage




\begin{landscape}
%\vspace*{\fill}
\begin{figure}[H]%
\centering%
\begin{minipage}[c][0.995\textheight][c]{0.995\linewidth}%
\centering%
\includegraphics[trim = 0em 0em 0em 0em, clip, width=0.975\textwidth]{snap-3-0-Additional-Dynamics-(Split-Gains).pdf}%
\caption[{[Additional Dynamics]: 2.0 Additional Dynamics (Split Gains)}]%
        {{[Additional Dynamics]: 2.0 Additional Dynamics (Split Gains)%
          \label{FIG:controllerDesign:additionalDynamics:background:3p0:additionalDynamics:splitGains}%
        }}%
\end{minipage}%
\end{figure}
%\vspace*{\fill}
\end{landscape}




\clearpage




\begin{landscape}
%\vspace*{\fill}
\begin{figure}[H]%
\centering%
\begin{minipage}[c][0.995\textheight][c]{0.995\linewidth}%
\centering%
\includegraphics[trim = 0em 0em 0em 0em, clip, width=0.975\textwidth]{snap-4-0-Additional-Dynamics-(Linear-View---Plant).pdf}%
\caption[{[Additional Dynamics]: 3.0 Additional Dynamics (Linear View: Plant)}]%
        {{[Additional Dynamics]: 3.0 Additional Dynamics (Linear View: Plant)%
          \label{FIG:controllerDesign:additionalDynamics:background:4p0:additionalDynamics:linearView:plant}%
        }}%
\end{minipage}%
\end{figure}
%\vspace*{\fill}
\end{landscape}




\clearpage




\begin{landscape}
%\vspace*{\fill}
\begin{figure}[H]%
\centering%
\begin{minipage}[c][0.995\textheight][c]{0.995\linewidth}%
\centering%
\includegraphics[trim = 0em 0em 0em 0em, clip, width=0.975\textwidth]{snap-4-1-Additional-Dynamics-(Linear-View---Plant).pdf}%
\caption[{[Additional Dynamics]: 3.1 Additional Dynamics (Linear View: Plant)}]%
        {{[Additional Dynamics]: 3.1 Additional Dynamics (Linear View: Plant)%
          \label{FIG:controllerDesign:additionalDynamics:background:4p1:additionalDynamics:linearView:plant}%
        }}%
\end{minipage}%
\end{figure}
%\vspace*{\fill}
\end{landscape}




\clearpage




\begin{landscape}
%\vspace*{\fill}
\begin{figure}[H]%
\centering%
\begin{minipage}[c][0.995\textheight][c]{0.995\linewidth}%
\centering%
\includegraphics[trim = 0em 0em 0em 0em, clip, width=0.975\textwidth]{snap-5-0-Additional-Dynamics-(Linear-View---Controller)}%
\caption[{[Additional Dynamics]: 4.0 Additional Dynamics (Linear View: Controller)}]%
        {{[Additional Dynamics]: 4.0 Additional Dynamics (Linear View: Controller)%
          \label{FIG:controllerDesign:additionalDynamics:background:5p0:additionalDynamics:linearView:controller}%
        }}%
\end{minipage}%
\end{figure}
%\vspace*{\fill}
\end{landscape}




\clearpage




\begin{landscape}
%\vspace*{\fill}
\begin{figure}[H]%
\centering%
\begin{minipage}[c][0.995\textheight][c]{0.995\linewidth}%
\centering%
\includegraphics[trim = 0em 0em 0em 0em, clip, width=0.975\textwidth]{snap-6-0-Additional-Dynamics-(Linear-View---User).pdf}%
\caption[{[Additional Dynamics]: 4.0 Additional Dynamics with Reference Signal (Linear View: User)}]%
        {{[Additional Dynamics]: 4.0 Additional Dynamics with Reference Signal (Linear View: User)%
          \label{FIG:controllerDesign:additionalDynamics:background:6p0:additionalDynamics:linearView:user}%
        }}%
\end{minipage}%
\end{figure}
%\vspace*{\fill}
\end{landscape}




\clearpage




\begin{landscape}
%\vspace*{\fill}
\begin{figure}[H]%
\centering%
\begin{minipage}[c][0.995\textheight][c]{0.995\linewidth}%
\centering%
\includegraphics[trim = 0em 0em 0em 0em, clip, width=0.975\textwidth]{snap-6-1-Additional-Dynamics-(Linear-View---User).pdf}%
\caption[{[Additional Dynamics]: 4.0 Additional Dynamics with Reference Signal (Linear View: User)}]%
        {{[Additional Dynamics]: 4.0 Additional Dynamics with Reference Signal (Linear View: User)%
          \label{FIG:controllerDesign:additionalDynamics:background:6p1:additionalDynamics:linearView:user}%
        }}%
\end{minipage}%
\end{figure}
%\vspace*{\fill}
\end{landscape}




\clearpage




\subsubsection{Reference Signal}
\label{SEC:controllerDesign:additionalDynamics:background:referenceSignal}


Recall that a standard state-feedback regulator 
simply brings its inputs, 
{\fns[\tif{in this case, system states $x$ and $x_{a}$}]},
to zero.
If it is desired that a controller input be brought to a value other than zero,
a reference signal may be implemented.

In these cases, 
rather than input the controller with a state which the controller will bring to zero,
the controller is input with 
the difference between the state value and the reference {\fns[\tif{desired}]} value.
This difference is commonly known as the error signal.
Once the error signal is brought to zero for a given state,
the state will be equivalent to the desired reference value.

Returning to system depiction,
a reference command is implemented,
as depicted in Figure~%
\ref{FIG:controllerDesign:additionalDynamics:background:6p0:additionalDynamics:linearView:user}.

Note that the reference signal receives the negative.
Inverting the system state alters the system equation,
and could cause the system to become unstable.

Despite this fact, it is sometimes more common to see 
the system state subtracted from the reference signal.
To correctly achieve this,
once the reference signal is implemented,
either side of the difference equation is multiplied by -1.
The negative on the input side is distributed to both inputs.
The output of the difference equation is the input of the additional dynamics;
thus, when the negative appears on the output side of the difference equation,
a negative exists on either side of the additional dynamics equation.

Recall that all state-space representations are linear;
therefore, the input and the output may be multiplied by the same value.
In this case, the negative may be divided out on both sides.

These changes are depicted in Figure~%
\ref{FIG:controllerDesign:additionalDynamics:background:6p1:additionalDynamics:linearView:user}.




\clearpage




\end{document}










