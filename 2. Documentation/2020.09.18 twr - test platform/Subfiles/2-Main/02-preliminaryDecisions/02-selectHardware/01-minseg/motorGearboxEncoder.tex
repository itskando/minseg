% !TEX spellcheck = English (United States) (Aspell)
% !TEX TS-program = arara
%  arara: lmkclean
%  arara: pdflatex: {   draft: yes, options: '-file-line-error -halt-on-error' }
%  arara: biber
%  arara: pdflatex: {   draft: yes, options: '-file-line-error -halt-on-error' }
%  arara: pdflatex: { synctex: yes, options: '-file-line-error -halt-on-error' }
%  arara: lmkclean
\documentclass[crop=false,float=true,class=scrreprt]{standalone}

\providecommand{\main}{../../../../..}
\input{\main/Subfiles/0-Preamble/0-Preamble.tex}  % Preamble [document configuration]

\begin{document}

\subsubsection{Motor, Gearbox, and Encoder}
\label{SEC:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor}

The MinSeg implements two Lego NXT servo motors.
Each Lego NXT servo motor contains a DC traction motor, a gearbox, and an encoder.
A three-dimensional model of the component is depicted in Figure~%
\ref{FIG:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:3d}.

\vspace*{+1.0em}
\begin{figure}[H]%
\centering%
\fbox{%
\includegraphics[trim = 0em 0em 0em 0em, clip, width=0.55\textwidth]{minseg-motor-3d.jpg}%
}%
\caption[{[Selection of Compatible HW \& SW]: Lego NXT Motor (3D Model)}]%
        {{[Selection of Compatible HW \& SW]: Lego NXT Motor (3D Model)~%
           \cite{REF:online:philohome}%
           \label{FIG:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:3d}%
        }}%
\end{figure}
\vspace*{-1.0em}

Although Lego did not publicly disclose all of the characteristic parameters of their components,
the hobbyist community reverse engineered several of these values by performing various tests
and also by (irreversibly) dismantling a spare~%
\cite{REF:online:philohome}.
The dismantled component is depicted in Figure~%
\ref{FIG:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:exploded}.


\vspace*{+1.0em}
\begin{figure}[H]%
\centering%
\fbox{%
\includegraphics[trim = 0em 0em 0em 0em, clip, width=0.8\textwidth]{minseg-motor-exploded.jpg}%
}%
\caption[{[Selection of Compatible HW \& SW]: Lego NXT Motor (Exploded)}]%
        {{[Selection of Compatible HW \& SW]: Lego NXT Motor (Exploded)~%
           \cite{REF:online:philohome}%
           \label{FIG:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:exploded}%
           }}%
\end{figure}
\vspace*{-1.0em}




\clearpage




Table~%
\ref{TAB:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:figureLegend}
provides a legend for the different components in Figures
\ref{FIG:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:3d}~%
-~%
\ref{FIG:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:exploded}.

\vspace*{+0.0em}
\begin{table}[H]%
\centering%
\small%
\caption[{[Selection of Compatible HW \& SW]: Lego NXT Motor Figure Legend}]%
        {{[Selection of Compatible HW \& SW]: Lego NXT Motor Figure Legend~%
           \cite{REF:online:philohome}%
           \label{TAB:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:figureLegend}%
           }}
\vspace{+0.25em}
\begin{tabular}{| l | c | c | c |}                                                                                  \hline     \\[-2.0em]
\mc{1}{|c|}{%
\tbf{Component}%
}                                                                                                        &
\tbf{Figure \ref{FIG:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:3d}}       &
\mc{2}{c |}{%
\tbf{Figure \ref{FIG:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:exploded}}% 
}                                                                                                        \\[+0.0em] \hline &&& \\[-2.0em]
%%
Enclosure                                                                                                &
\begin{tabular}{@{}l@{}}
Translucent                       \\
\end{tabular}                                                                                            &
\begin{tabular}{@{}c@{}}
Top                               \\
\end{tabular}                                                                                            &
\begin{tabular}{@{}c@{}}
Grey                              \\
\end{tabular}                                                                                            \\[+0.0em] \hline &&& \\[-2.0em]
%%
\begin{tabular}{@{}l@{}}
Encoder                           \\
\tif{\ \ Enclosure}               \\
\tif{\ \ Gearing}
\end{tabular}                                                                                            &
\begin{tabular}{@{}c@{}}
-                                 \\
Dark blue                         \\
Dark grey                         \\
\end{tabular}                                                                                            &
\begin{tabular}{@{}c@{}}
-                                 \\
Bottom                            \\
Bottom                            \\
\end{tabular}                                                                                            &
\begin{tabular}{@{}c@{}}
-                                 \\
Black                             \\
Dark grey                         \\
\end{tabular}                                                                                            \\[+0.0em] \hline &&& \\[-2.0em]
%%
PCB                                                                                                      & 
\begin{tabular}{@{}c@{}}
-                                 \\
\end{tabular}                                                                                            &
\begin{tabular}{@{}c@{}}
Left                              \\
\end{tabular}                                                                                            &
\begin{tabular}{@{}c@{}}
Green                             \\
\end{tabular}                                                                                            \\[+0.0em] \hline &&& \\[-2.0em]
%%
Motor                                                                                                    & 
\begin{tabular}{@{}c@{}}
Light orange                      \\
\end{tabular}                                                                                            &
\begin{tabular}{@{}c@{}}
Left                              \\
\end{tabular}                                                                                            &
\begin{tabular}{@{}c@{}}
Chrome                            \\
\end{tabular}                                                                                            \\[+0.0em] \hline &&& \\[-2.0em]
%%
Gearbox                                                                                                  & 
\begin{tabular}{@{}c@{}}
Light blue                        \\
\end{tabular}                                                                                            &
\begin{tabular}{@{}c@{}}
Top-Left                          \\
\end{tabular}                                                                                            &
\begin{tabular}{@{}c@{}}
White                             \\
\end{tabular}                                                                                            \\[+0.0em] \hline &&& \\[-2.0em]
%%
Wheel axle mount                                                                                         & 
\begin{tabular}{@{}c@{}}
Dark orange                       \\
\end{tabular}                                                                                            &
\begin{tabular}{@{}c@{}}
Right                             \\
\end{tabular}                                                                                            &
\begin{tabular}{@{}c@{}}
Orange                            \\
\end{tabular}                                                                                            \\[+0.0em] \hline
%%
\end{tabular}
\end{table}
\vspace*{-1.0em}





\subsubsubsectionA{Gearing}

The encoder, the motor, and the wheel axle mount
are coupled through gearing.
Thus, the angular velocity $\omega$ of any one of these components 
can be related to 
the angular velocity of any one of the other components
based on the the number(s) of teeth between each component,
as exhibited in Eqn.~%
[\ref{EQN:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:gearTeeth}],
where $k$ represents a ratio and $n$ represents an integer count.

\begin{equation}
\label{EQN:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:gearTeeth}
k_{\omega\ A2B}
=
\frac{n_{\omega\ B}}{n_{\omega\ A}}
=
\begin{bmatrix}
\displaystyle
k_{teeth\ A2B}
\end{bmatrix}^{-1}
=
\begin{bmatrix}
\displaystyle
\frac{n_{teeth\ B}}{n_{teeth\ A}}
\end{bmatrix}^{-1}
\end{equation}


The number of teeth in each gearing is depicted in Figure~%
\ref{FIG:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:gearTeethMap}.
Teeth counts in the same row are coupled by teeth.  
Teeth counts in the same column are coupled by axle,
{\fns(\tif{and therefore rotate at the same rate, independent of teeth count})}.


\vspace*{\fill}
\begin{figure}[H]
\setcounter{MaxMatrixCols}{20}
\centering%
\fbox{%
$%
\begin{matrix}%
20    & | & 13    & 10    & \cdot & \cdot & \cdot & | & \cdot & | & \cdot \\
\cdot & | & \cdot & 20    & 10    & \cdot & \cdot & | & \cdot & | & \cdot \\
\cdot & | & \cdot & \cdot & 27    & 09    & \cdot & | & \cdot & | & \cdot \\
\cdot & | & \cdot & \cdot & \cdot & 40    & 30    & | & 10    & | & 32    \\
\end{matrix}%
$%
}%
\caption[{[Selection of Compatible HW \& SW]: Lego NXT Motor Gear Teeth Map}]%
        {{[Selection of Compatible HW \& SW]: Lego NXT Motor Gear Teeth Map~%
           \cite{REF:online:philohome}%
           \label{FIG:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:gearTeethMap}%
           }}%
\end{figure}
\vspace*{\fill}




\clearpage




Additionally, in Figure~%
\ref{FIG:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:gearTeethMap},
each component is separated by a vertical bar.
From left to right: wheel axle mount, gearbox, motor, encoder.
The completed relation between the wheel axle mount and the gearbox is exhibited in Eqns.
[\ref{EQN:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:gearTeeth:finalValue1}~%
--%
\ref{EQN:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:gearTeeth:finalValue6}].


\begin{align}
\label{EQN:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:gearTeeth:finalValue1}
%%
k_{gearTeeth\ wheel2motor}
&=&
\begin{bmatrix} \displaystyle
\frac{13}{20} \cdot\frac{10}{13}
\end{bmatrix}
\cdot %%%%%%
\begin{bmatrix} \displaystyle
\frac{10}{20}
\end{bmatrix}
\cdot %%%%%%
\begin{bmatrix} \displaystyle
\frac{09}{27}
\end{bmatrix}
\cdot %%%%%%
\begin{bmatrix} \displaystyle
\frac{30}{40} \cdot\frac{10}{30}
\end{bmatrix}
=
\frac{01}{48}
%%
%%
\\[+2em]
%%
%%
k_{gearTeeth\ motor2encoder}
&=&
\frac{32}{10}
%%
%%
\\[+2em]
%%
%%
k_{\omega\ wheel2motor}
&=&
\begin{bmatrix} \displaystyle
k_{gearTeeth\ wheel2motor}
\end{bmatrix}^{-1}
=
\frac{48}{01}
%%
%%
\\[+2em]
%%
%%
k_{\omega \ motor2encoder}
&=&
\begin{bmatrix} \displaystyle
k_{gearTeeth\ motor2encoder}
\end{bmatrix}^{-1}
=
\frac{10}{32}
%%
%%
\\[+2em]
%%
%%
\label{EQN:preliminaryDecisions:selectionHardwareSoftware:hardware:components:motor:gearTeeth:finalValue6}
k_{\omega\ wheel2encoder}
&=&
k_{\omega\ wheel2motor}
\cdot
k_{\omega\ motor2encoder}
=
\frac{15}{01}
%%
\end{align}




\iffalse

\subsubsubsectionA{Motor}

motor torque constant\\
motor back emf constant\\


\subsubsubsectionA{Encoder}

slots\\
binary\\
quadrature\\

\fi





\clearpage




\end{document}










